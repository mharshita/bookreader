{"version":3,"sources":["webpack://@internetarchive/bookreader/./src/js/plugins/plugin.mobile_nav.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/array-for-each.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.array.for-each.js","webpack://@internetarchive/bookreader/./node_modules/jquery.mmenu/dist/addons/navbars/jquery.mmenu.navbars.min.js","webpack://@internetarchive/bookreader/./node_modules/jquery.mmenu/dist/js/jquery.mmenu.min.js"],"names":["super_","FILTERLIST","filter","label","jQuery","extend","BookReader","defaultOptions","enableMobileNav","mobileNavTitle","mobileNavFullscreenOnly","prototype","setup","options","call","this","refs","$mmenu","initToolbar","mode","ui","$mmenuEl","$drawerEl","buildMobileDrawerElement","$br","append","buildInfoDiv","$","buildShareDiv","mmenu","navbars","navbar","add","title","titleLink","extensions","offCanvas","wrapPageIfNeeded","zposition","pageSelector","el","$BRpageviewField","find","data","bind","length","val","window","location","href","click","applyFilters","switchMode","constMode1up","constMode2up","constModeThumb","document","body","addClass","apply","arguments","getInstance","vars","opened","close","open","trigger","closeMobileMenu","e","width","addEventListener","utils","buildToolbarElement","$el","escapedTitle","util","escapeHTML","bookTitle","toolbar","prepend","experimentalHtml","enableExperimentalControls","forEach","i","checkboxHtml","concat","settingsSection","imagesBaseURL","moreInfo","share","navMenu","arg","$results","drawerEl","br","filterStr","each","removeClass","is","attr","filtersSheet","createElement","id","innerHTML","appendChild","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","undefined","target","proto","forced","n","a","t","addons","r","s","opts","c","conf","glbl","Array","o","d","content","l","position","h","height","Math","min","max","f","u","v","p","b","ceil","children","not","btn","hasbtns","prependTo","$menu","hasnavbar","_c","_d","_e","clickAnchor","configuration","breadcrumbSeparator","classNames","breadcrumbs","appendTo","first","panel","closest","text","unshift","parent","join","separator","html","$pnls","current","$page","next","panelNext","hidden","prev","hasClass","vertical","panelPrev","search","searchfield","addTo","panelTitle","$wndw","$docu","$html","$body","split","mm","umm","slice","version","_api","cbck","___deprecated","_initMenu","_initAnchors","_initAddons","init","___debug","uniqueId","defaults","onClick","setSelected","slidingSubmenus","divider","inset","selected","spacer","clone","openingInterval","panelNodetype","transitionDuration","nopanel","_initPanels","update","listview","openPanel","parents","subopened","highest","support","csstransitions","nextAll","setTimeout","__transitionend","closePanel","closeAllPanels","togglePanel","push","shift","__getUniqueId","contents","nodeType","remove","panels","wrapper","menu","__findAddBack","__refactorClass","nolistview","wrap","removeAttr","sub","insertBefore","fullsubopen","last","parentsUntil","end","on","preventDefault","__valueOrFn","_getOriginalMenuId","__api","__filterListItems","one","transitionend","webkitTransitionEnd","fn","touch","navigator","msMaxTouchPoints","Modernizr","documentElement","style","charAt","toUpperCase","substr","merge","pageNodetype","$allMenus","offcanvas","setPage","_initBlocker","menuInjectMethod","menuWrapperSelector","hash","blockUI","moveBackground","noPageSelector","_openSetup","_openFinish","closeAllOthers","resize","blocking","modal","background","opening","wrapAll","page","slideout","off","keydown","keyCode","css","$blck","blocker","touchstart","touchmove","stopPropagation","mousedown","fix","scrollTop","currentTarget","scrollHeight","offsetHeight","innerHeight","orientationchange"],"mappings":"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","file":"plugins/plugin.mobile_nav.js","sourcesContent":["/* global BookReader */\n/**\n * Adds mobile navigation at responsive breakpoint\n */\n\nimport * as utils from '../BookReader/utils.js';\nimport 'jquery.mmenu/dist/js/jquery.mmenu.min.js';\nimport 'jquery.mmenu/dist/addons/navbars/jquery.mmenu.navbars.min.js';\n\n//contains all filters and labels for checkboxs\nconst FILTERLIST = [\n  {\n    filter: \"grayscale(100%)\",\n    label: \"Grayscale\"\n  },\n  {\n    filter: \"brightness(120%)\",\n    label: \"High brightness\"\n  },\n  {\n    filter: \"invert(100%)\",\n    label: \"Inverted (dark mode)\"\n  },\n  {\n    filter: \"contrast(120%)\",\n    label: \"High contrast\"\n  },\n]\n\njQuery.extend(BookReader.defaultOptions, {\n  enableMobileNav: true,\n  mobileNavTitle: 'Internet Archive',\n  mobileNavFullscreenOnly: false,\n});\n\nBookReader.prototype.setup = (function(super_) {\n  return function (options) {\n    super_.call(this, options);\n\n    this.enableMobileNav = options.enableMobileNav;\n    this.mobileNavTitle = options.mobileNavTitle;\n    this.mobileNavFullscreenOnly = options.mobileNavFullscreenOnly;\n\n    this.refs.$mmenu = null;\n  };\n})(BookReader.prototype.setup);\n\n\n// Extend initToolbar\nBookReader.prototype.initToolbar = (function (super_) {\n  return function (mode, ui) {\n    let $mmenuEl;\n    if (this.enableMobileNav) {\n      const $drawerEl = this.buildMobileDrawerElement();\n      this.refs.$br.append($drawerEl);\n\n      // Render info into mobile info before mmenu\n      this.buildInfoDiv(this.$('.BRmobileInfo'));\n      this.buildShareDiv(this.$('.BRmobileShare'));\n\n      $mmenuEl = $drawerEl;\n      $mmenuEl.mmenu({\n        navbars: [\n          { \"position\": \"top\" },\n        ],\n        navbar: {\n          add: true,\n          title: this.mobileNavTitle,\n          titleLink: 'panel'\n        },\n        extensions: [ \"panelshadow\" ],\n      }, {\n        offCanvas: {\n          wrapPageIfNeeded: false,\n          zposition: 'next',\n          pageSelector: this.el,\n        }\n      });\n\n      const $BRpageviewField = $mmenuEl.find('.BRpageviewValue');\n      $mmenuEl.data('mmenu').bind('opened', () => {\n        // Update \"Link to this page view\" link\n        if ($BRpageviewField.length) {\n          $BRpageviewField.val(window.location.href);\n        }\n      });\n\n      //apply filters when checkboxs clicked\n      $drawerEl.find('.BRcheckbox-filters').click(() => applyFilters($drawerEl, this));\n\n      // Bind mobile switch buttons\n      $drawerEl.find('.DrawerLayoutButton.one_page_mode').click(\n        () => this.switchMode(this.constMode1up));\n      $drawerEl.find('.DrawerLayoutButton.two_page_mode').click(\n        () => this.switchMode(this.constMode2up));\n      $drawerEl.find('.DrawerLayoutButton.thumbnail_mode').click(\n        () => this.switchMode(this.constModeThumb));\n\n      if (this.mobileNavFullscreenOnly) {\n        $(document.body).addClass('BRbodyMobileNavEnabledFullscreen');\n      } else {\n        $(document.body).addClass('BRbodyMobileNavEnabled');\n      }\n\n      this.refs.$mmenu = $mmenuEl;\n\n    }\n\n    // Call the parent method at the end, because it binds events to DOM\n    super_.apply(this, arguments);\n\n\n    if (this.enableMobileNav) {\n      // Need to bind more, console after toolbar is initialized\n      this.$('.BRmobileHamburger').click(() => {\n        if ($mmenuEl.data('mmenu').getInstance().vars.opened) {\n          $mmenuEl.data('mmenu').close();\n        } else {\n          $mmenuEl.data('mmenu').open();\n          this.trigger(\"mobileNavOpen\");\n        }\n      });\n\n\n      const closeMobileMenu = (e) => {\n        // Need to close the mobile menu to reset DOM & Style\n        // driven by menu plugin\n        const width = $( window ).width();\n        const mobileMenuIsOpen = $mmenuEl.data('mmenu').getInstance().vars.opened;\n        // $brBreakPointMobile: 800px;\n        if (mobileMenuIsOpen && (width >= 800)) {\n          $mmenuEl.data('mmenu').close ();\n        }\n      };\n\n      window.addEventListener('resize', utils.debounce(closeMobileMenu, 900));\n    }\n  };\n})(BookReader.prototype.initToolbar);\n\n\nBookReader.prototype.buildToolbarElement = (function (super_) {\n  return function () {\n    const $el = super_.call(this);\n    if (this.enableMobileNav) {\n      const escapedTitle = BookReader.util.escapeHTML(this.bookTitle);\n      const toolbar = `\n        <span class=\"BRmobileHamburgerWrapper\">\n          <button class=\"BRmobileHamburger\"></button>\n          <span class=\"BRtoolbarMobileTitle\" title=\"${escapedTitle}\">${escapedTitle}</span>\n        </span>\n      `;\n      $el\n        .addClass('responsive')\n        .prepend($(toolbar));\n    }\n    return $el;\n  };\n})(BookReader.prototype.buildToolbarElement);\n\n/**\n * This method builds the html for the mobile drawer. It can be decorated to\n * extend the default drawer.\n * @return {jqueryElement}\n */\nBookReader.prototype.buildMobileDrawerElement = function() {\n  let experimentalHtml = '';\n  //builds filters checkbox html\n  if (this.enableExperimentalControls) {\n    experimentalHtml = `\n        <p class=\"DrawerSettingsTitle\">Visual Adjustment</p>\n        <div class=\"BRcheckbox-group-filters\">\n        `;\n    FILTERLIST.forEach( (el, i) => {\n      const checkboxHtml = `\n          <input type=\"checkbox\" class=\"BRcheckbox-filters\" id=\"filter${i}\">\n          <label for=\"filter${i}\" class=\"BRcheckbox-label-filters\">${el.label}</label><br>\n        \n      `;\n      experimentalHtml = experimentalHtml.concat(checkboxHtml);\n    })\n    experimentalHtml = experimentalHtml.concat(\"</div>\");\n  }\n\n\n  const settingsSection = `\n    <span>\n        <span class=\"DrawerIconWrapper\">\n          <img class=\"DrawerIcon\" src=\"${`${this.imagesBaseURL}icon_gear.svg`}\" alt=\"settings-icon\"/>\n        </span>\n        Settings\n    </span>\n    <div class=DrawerSettingsWrapper>\n        <div class=\"DrawerSettingsLayoutWrapper\">\n          <button class=\"DrawerLayoutButton one_page_mode\">\n            <img src=\"${this.imagesBaseURL}icon_one_page.svg\" alt=\"Single Page\"/>\n            <br>\n            One Page\n          </button>\n          <button class=\"DrawerLayoutButton two_page_mode TwoPagesButton\">\n            <img src=\"${this.imagesBaseURL}icon_two_pages.svg\" alt=\"Two Pages\"/>\n            <br>\n            Two Pages\n          </button>\n          <button class=\"DrawerLayoutButton thumbnail_mode\">\n            <img src=\"${this.imagesBaseURL}icon_thumbnails.svg\" alt=\"Thumbnails\"/>\n            <br>\n            Thumbnails\n          </button>\n        </div>\n        <br>\n        <div class=\"DrawerSettingsTitle\">Zoom</div>\n        <button class='BRicon zoom_out'></button>\n        <button class='BRicon zoom_in'></button>\n        <br style=\"clear:both\"><br><br>\n        ${experimentalHtml}\n    </div>\n  `;\n  const moreInfo = `\n    <span>\n        <span class=\"DrawerIconWrapper \">\n            <img class=\"DrawerIcon\" src=\"${this.imagesBaseURL}icon_info.svg\" alt=\"info-icon\"/>\n        </span>\n        About This Book\n    </span>\n    <div class=\"BRmobileInfo\"></div>\n  `;\n  const share = `\n    <span>\n      <span class=\"DrawerIconWrapper\">\n        <img class=\"DrawerIcon\" src=\"${this.imagesBaseURL}icon_share.svg\" alt=\"info-share\"/>\n      </span>\n      Share This Book\n    </span>\n    <div class=\"BRmobileShare\"></div>\n  `;\n  const navMenu = `\n    <nav id=\"BRmobileMenu\" class=\"BRmobileMenu\">\n      <ul>\n        <li class=\"BRmobileMenu__settings\">${settingsSection}</li>\n        <li class=\"BRmobileMenu__moreInfoRow\">${moreInfo}</li>\n        <li class=\"BRmobileMenu__share\">${share}</li>\n      </ul>\n    </nav>\n  `;\n\n  const $el = $(navMenu);\n  return $el;\n};\n\n/**\n * Mmenu moves itself out side of the root BookReader element, so we need to\n * include it in the scoped $ function.\n */\nBookReader.prototype.$ = (function (super_) {\n  return function (arg) {\n    let $results = super_.call(this, arg);\n    if (this.refs.$mmenu) {\n      $results = $results.add(this.refs.$mmenu.find(arg));\n    }\n    return $results;\n  };\n})(BookReader.prototype.$);\n\n/**\n* Dynamically creates styles combining different filters for BookReaders imgs\n* based on filters checkbox\n*/\nconst applyFilters = (drawerEl, br) => {\n  let filterStr = \"\";\n\n  $('.BRcheckbox-filters').each(\n    (i, el) => {\n      br.refs.$br.removeClass(\"filter-applied\");\n      if ($(el).is(':checked')) {\n        br.refs.$br.addClass($(el).attr(\"filter-applied\"));\n        filterStr = filterStr + FILTERLIST[i].filter;\n      }\n    }\n  );\n  const filtersSheet = $(\"#filtersStyle\")[0] || document.createElement('style');\n  filtersSheet.id = \"filtersStyle\";\n  filtersSheet.innerHTML = `.BRpagecontainer  img {\n            filter: ${filterStr};\n            -webkit-filter: ${filterStr};}`;\n  document.body.appendChild(filtersSheet);\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","/*\t\n * jQuery mmenu navbar addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\n!function(n){var a=\"mmenu\",t=\"navbars\";n[a].addons[t]={setup:function(){var r=this,s=this.opts[t],c=this.conf[t];if(i=n[a].glbl,\"undefined\"!=typeof s){s instanceof Array||(s=[s]);var o={};n.each(s,function(i){var d=s[i];\"boolean\"==typeof d&&d&&(d={}),\"object\"!=typeof d&&(d={}),\"undefined\"==typeof d.content&&(d.content=[\"prev\",\"title\"]),d.content instanceof Array||(d.content=[d.content]),d=n.extend(!0,{},r.opts.navbar,d);var l=d.position,h=d.height;\"number\"!=typeof h&&(h=1),h=Math.min(4,Math.max(1,h)),\"bottom\"!=l&&(l=\"top\"),o[l]||(o[l]=0),o[l]++;var f=n(\"<div />\").addClass(e.navbar+\" \"+e.navbar+\"-\"+l+\" \"+e.navbar+\"-\"+l+\"-\"+o[l]+\" \"+e.navbar+\"-size-\"+h);o[l]+=h-1;for(var u=0,v=0,p=d.content.length;p>v;v++){var b=n[a].addons[t][d.content[v]]||!1;b?u+=b.call(r,f,d,c):(b=d.content[v],b instanceof n||(b=n(d.content[v])),f.append(b))}u+=Math.ceil(f.children().not(\".\"+e.btn).length/h),u>1&&f.addClass(e.navbar+\"-content-\"+u),f.children(\".\"+e.btn).length&&f.addClass(e.hasbtns),f.prependTo(r.$menu)});for(var d in o)r.$menu.addClass(e.hasnavbar+\"-\"+d+\"-\"+o[d])}},add:function(){e=n[a]._c,r=n[a]._d,s=n[a]._e,e.add(\"close hasbtns\")},clickAnchor:function(n,a){}},n[a].configuration[t]={breadcrumbSeparator:\"/\"},n[a].configuration.classNames[t]={};var e,r,s,i}(jQuery),/*\t\n * jQuery mmenu navbar addon breadcrumbs content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"breadcrumbs\";n[a].addons[t][e]=function(t,e,r){var s=n[a]._c,i=n[a]._d;s.add(\"breadcrumbs separator\");var c=n('<span class=\"'+s.breadcrumbs+'\" />').appendTo(t);this.bind(\"init\",function(a){a.removeClass(s.hasnavbar).each(function(){for(var a=[],t=n(this),e=n('<span class=\"'+s.breadcrumbs+'\"></span>'),c=n(this).children().first(),o=!0;c&&c.length;){c.is(\".\"+s.panel)||(c=c.closest(\".\"+s.panel));var d=c.children(\".\"+s.navbar).children(\".\"+s.title).text();a.unshift(o?\"<span>\"+d+\"</span>\":'<a href=\"#'+c.attr(\"id\")+'\">'+d+\"</a>\"),o=!1,c=c.data(i.parent)}e.append(a.join('<span class=\"'+s.separator+'\">'+r.breadcrumbSeparator+\"</span>\")).appendTo(t.children(\".\"+s.navbar))})});var o=function(){c.html(this.$pnls.children(\".\"+s.current).children(\".\"+s.navbar).children(\".\"+s.breadcrumbs).html())};return this.bind(\"openPanel\",o),this.bind(\"init\",o),0}}(jQuery),/*\t\n * jQuery mmenu navbar addon close content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"close\";n[a].addons[t][e]=function(t,e){var r=n[a]._c,s=n[a].glbl,i=n('<a class=\"'+r.close+\" \"+r.btn+'\" href=\"#\" />').appendTo(t),c=function(n){i.attr(\"href\",\"#\"+n.attr(\"id\"))};return c.call(this,s.$page),this.bind(\"setPage\",c),-1}}(jQuery),/*\t\n * jQuery mmenu navbar addon next content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"next\";n[a].addons[t][e]=function(e,r){var s,i,c=n[a]._c,o=n('<a class=\"'+c.next+\" \"+c.btn+'\" href=\"#\" />').appendTo(e),d=function(n){n=n||this.$pnls.children(\".\"+c.current);var a=n.find(\".\"+this.conf.classNames[t].panelNext);s=a.attr(\"href\"),i=a.html(),o[s?\"attr\":\"removeAttr\"](\"href\",s),o[s||i?\"removeClass\":\"addClass\"](c.hidden),o.html(i)};return this.bind(\"openPanel\",d),this.bind(\"init\",function(){d.call(this)}),-1},n[a].configuration.classNames[t].panelNext=\"Next\"}(jQuery),/*\t\n * jQuery mmenu navbar addon prev content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"prev\";n[a].addons[t][e]=function(e,r){var s=n[a]._c,i=n('<a class=\"'+s.prev+\" \"+s.btn+'\" href=\"#\" />').appendTo(e);this.bind(\"init\",function(n){n.removeClass(s.hasnavbar).children(\".\"+s.navbar).addClass(s.hidden)});var c,o,d=function(n){if(n=n||this.$pnls.children(\".\"+s.current),!n.hasClass(s.vertical)){var a=n.find(\".\"+this.conf.classNames[t].panelPrev);a.length||(a=n.children(\".\"+s.navbar).children(\".\"+s.prev)),c=a.attr(\"href\"),o=a.html(),i[c?\"attr\":\"removeAttr\"](\"href\",c),i[c||o?\"removeClass\":\"addClass\"](s.hidden),i.html(o)}};return this.bind(\"openPanel\",d),this.bind(\"init\",function(){d.call(this)}),-1},n[a].configuration.classNames[t].panelPrev=\"Prev\"}(jQuery),/*\t\n * jQuery mmenu navbar addon searchfield content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"searchfield\";n[a].addons[t][e]=function(t,e){var r=n[a]._c,s=n('<div class=\"'+r.search+'\" />').appendTo(t);return\"object\"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=s,0}}(jQuery),/*\t\n * jQuery mmenu navbar addon title content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"title\";n[a].addons[t][e]=function(e,r){var s,i,c=n[a]._c,o=n('<a class=\"'+c.title+'\" />').appendTo(e),d=function(n){if(n=n||this.$pnls.children(\".\"+c.current),!n.hasClass(c.vertical)){var a=n.find(\".\"+this.conf.classNames[t].panelTitle);a.length||(a=n.children(\".\"+c.navbar).children(\".\"+c.title)),s=a.attr(\"href\"),i=a.html()||r.title,o[s?\"attr\":\"removeAttr\"](\"href\",s),o[s||i?\"removeClass\":\"addClass\"](c.hidden),o.html(i)}};return this.bind(\"openPanel\",d),this.bind(\"init\",function(n){d.call(this)}),0},n[a].configuration.classNames[t].panelTitle=\"Title\"}(jQuery);","/*\n * jQuery mmenu v5.6.5\n * @requires jQuery 1.7.0 or later\n *\n * mmenu.frebsite.nl\n *\t\n * Copyright (c) Fred Heusschen\n * www.frebsite.nl\n *\n * License: CC-BY-NC-4.0\n * http://creativecommons.org/licenses/by-nc/4.0/\n */\n!function(e){function t(){e[n].glbl||(r={$wndw:e(window),$docu:e(document),$html:e(\"html\"),$body:e(\"body\")},i={},a={},o={},e.each([i,a,o],function(e,t){t.add=function(e){e=e.split(\" \");for(var n=0,s=e.length;s>n;n++)t[e[n]]=t.mm(e[n])}}),i.mm=function(e){return\"mm-\"+e},i.add(\"wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen\"),i.umm=function(e){return\"mm-\"==e.slice(0,3)&&(e=e.slice(3)),e},a.mm=function(e){return\"mm-\"+e},a.add(\"parent sub\"),o.mm=function(e){return e+\".mm\"},o.add(\"transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange\"),e[n]._c=i,e[n]._d=a,e[n]._e=o,e[n].glbl=r)}var n=\"mmenu\",s=\"5.6.4\";if(!(e[n]&&e[n].version>s)){e[n]=function(e,t,n){this.$menu=e,this._api=[\"bind\",\"init\",\"update\",\"setSelected\",\"getInstance\",\"openPanel\",\"closePanel\",\"closeAllPanels\"],this.opts=t,this.conf=n,this.vars={},this.cbck={},\"function\"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$pnls.children();return this._initAddons(),this.init(s),\"function\"==typeof this.___debug&&this.___debug(),this},e[n].version=s,e[n].addons={},e[n].uniqueId=0,e[n].defaults={extensions:[],navbar:{add:!0,title:\"Menu\",titleLink:\"panel\"},onClick:{setSelected:!0},slidingSubmenus:!0},e[n].configuration={classNames:{divider:\"Divider\",inset:\"Inset\",panel:\"Panel\",selected:\"Selected\",spacer:\"Spacer\",vertical:\"Vertical\"},clone:!1,openingInterval:25,panelNodetype:\"ul, ol, div\",transitionDuration:400},e[n].prototype={init:function(e){e=e.not(\".\"+i.nopanel),e=this._initPanels(e),this.trigger(\"init\",e),this.trigger(\"update\")},update:function(){this.trigger(\"update\")},setSelected:function(e){this.$menu.find(\".\"+i.listview).children().removeClass(i.selected),e.addClass(i.selected),this.trigger(\"setSelected\",e)},openPanel:function(t){var s=t.parent(),a=this;if(s.hasClass(i.vertical)){var o=s.parents(\".\"+i.subopened);if(o.length)return void this.openPanel(o.first());s.addClass(i.opened),this.trigger(\"openPanel\",t),this.trigger(\"openingPanel\",t),this.trigger(\"openedPanel\",t)}else{if(t.hasClass(i.current))return;var r=this.$pnls.children(\".\"+i.panel),l=r.filter(\".\"+i.current);r.removeClass(i.highest).removeClass(i.current).not(t).not(l).not(\".\"+i.vertical).addClass(i.hidden),e[n].support.csstransitions||l.addClass(i.hidden),t.hasClass(i.opened)?t.nextAll(\".\"+i.opened).addClass(i.highest).removeClass(i.opened).removeClass(i.subopened):(t.addClass(i.highest),l.addClass(i.subopened)),t.removeClass(i.hidden).addClass(i.current),a.trigger(\"openPanel\",t),setTimeout(function(){t.removeClass(i.subopened).addClass(i.opened),a.trigger(\"openingPanel\",t),a.__transitionend(t,function(){a.trigger(\"openedPanel\",t)},a.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(e){var t=e.parent();t.hasClass(i.vertical)&&(t.removeClass(i.opened),this.trigger(\"closePanel\",e),this.trigger(\"closingPanel\",e),this.trigger(\"closedPanel\",e))},closeAllPanels:function(){this.$menu.find(\".\"+i.listview).children().removeClass(i.selected).filter(\".\"+i.vertical).removeClass(i.opened);var e=this.$pnls.children(\".\"+i.panel),t=e.first();this.$pnls.children(\".\"+i.panel).not(t).removeClass(i.subopened).removeClass(i.opened).removeClass(i.current).removeClass(i.highest).addClass(i.hidden),this.openPanel(t)},togglePanel:function(e){var t=e.parent();t.hasClass(i.vertical)&&this[t.hasClass(i.opened)?\"closePanel\":\"openPanel\"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();if(this.cbck[n])for(var s=0,i=this.cbck[n].length;i>s;s++)this.cbck[n][s].apply(e,t)},_initMenu:function(){this.$menu.attr(\"id\",this.$menu.attr(\"id\")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find(\"[id]\")).filter(\"[id]\").each(function(){e(this).attr(\"id\",i.mm(e(this).attr(\"id\")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$pnls=e('<div class=\"'+i.panels+'\" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(i.wrapper);var t=[i.menu];this.opts.slidingSubmenus||t.push(i.vertical),this.opts.extensions=this.opts.extensions.length?\"mm-\"+this.opts.extensions.join(\" mm-\"):\"\",this.opts.extensions&&t.push(this.opts.extensions),this.$menu.addClass(t.join(\" \"))},_initPanels:function(t){var n=this,s=this.__findAddBack(t,\"ul, ol\");this.__refactorClass(s,this.conf.classNames.inset,\"inset\").addClass(i.nolistview+\" \"+i.nopanel),s.not(\".\"+i.nolistview).addClass(i.listview);var o=this.__findAddBack(t,\".\"+i.listview).children();this.__refactorClass(o,this.conf.classNames.selected,\"selected\"),this.__refactorClass(o,this.conf.classNames.divider,\"divider\"),this.__refactorClass(o,this.conf.classNames.spacer,\"spacer\"),this.__refactorClass(this.__findAddBack(t,\".\"+this.conf.classNames.panel),this.conf.classNames.panel,\"panel\");var r=e(),l=t.add(t.find(\".\"+i.panel)).add(this.__findAddBack(t,\".\"+i.listview).children().children(this.conf.panelNodetype)).not(\".\"+i.nopanel);this.__refactorClass(l,this.conf.classNames.vertical,\"vertical\"),this.opts.slidingSubmenus||l.addClass(i.vertical),l.each(function(){var t=e(this),s=t;t.is(\"ul, ol\")?(t.wrap('<div class=\"'+i.panel+'\" />'),s=t.parent()):s.addClass(i.panel);var a=t.attr(\"id\");t.removeAttr(\"id\"),s.attr(\"id\",a||n.__getUniqueId()),t.hasClass(i.vertical)&&(t.removeClass(n.conf.classNames.vertical),s.add(s.parent()).addClass(i.vertical)),r=r.add(s)});var d=e(\".\"+i.panel,this.$menu);r.each(function(t){var s,o,r=e(this),l=r.parent(),d=l.children(\"a, span\").first();if(l.is(\".\"+i.panels)||(l.data(a.sub,r),r.data(a.parent,l)),l.children(\".\"+i.next).length||l.parent().is(\".\"+i.listview)&&(s=r.attr(\"id\"),o=e('<a class=\"'+i.next+'\" href=\"#'+s+'\" data-target=\"#'+s+'\" />').insertBefore(d),d.is(\"span\")&&o.addClass(i.fullsubopen)),!r.children(\".\"+i.navbar).length&&!l.hasClass(i.vertical)){l.parent().is(\".\"+i.listview)?l=l.closest(\".\"+i.panel):(d=l.closest(\".\"+i.panel).find('a[href=\"#'+r.attr(\"id\")+'\"]').first(),l=d.closest(\".\"+i.panel));var c=!1,p=e('<div class=\"'+i.navbar+'\" />');if(n.opts.navbar.add&&r.addClass(i.hasnavbar),l.length){switch(s=l.attr(\"id\"),n.opts.navbar.titleLink){case\"anchor\":c=d.attr(\"href\");break;case\"panel\":case\"parent\":c=\"#\"+s;break;default:c=!1}p.append('<a class=\"'+i.btn+\" \"+i.prev+'\" href=\"#'+s+'\" data-target=\"#'+s+'\" />').append(e('<a class=\"'+i.title+'\"'+(c?' href=\"'+c+'\"':\"\")+\" />\").text(d.text())).prependTo(r)}else n.opts.navbar.title&&p.append('<a class=\"'+i.title+'\">'+n.opts.navbar.title+\"</a>\").prependTo(r)}});var c=this.__findAddBack(t,\".\"+i.listview).children(\".\"+i.selected).removeClass(i.selected).last().addClass(i.selected);c.add(c.parentsUntil(\".\"+i.menu,\"li\")).filter(\".\"+i.vertical).addClass(i.opened).end().each(function(){e(this).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).addClass(i.subopened)}),c.children(\".\"+i.panel).not(\".\"+i.vertical).addClass(i.opened).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).addClass(i.subopened);var p=d.filter(\".\"+i.opened);return p.length||(p=r.first()),p.addClass(i.opened).last().addClass(i.current),r.not(\".\"+i.vertical).not(p.last()).addClass(i.hidden).end().filter(function(){return!e(this).parent().hasClass(i.panels)}).appendTo(this.$pnls),r},_initAnchors:function(){var t=this;r.$body.on(o.click+\"-oncanvas\",\"a[href]\",function(s){var a=e(this),o=!1,r=t.$menu.find(a).length;for(var l in e[n].addons)if(e[n].addons[l].clickAnchor.call(t,a,r)){o=!0;break}var d=a.attr(\"href\");if(!o&&r&&d.length>1&&\"#\"==d.slice(0,1))try{var c=e(d,t.$menu);c.is(\".\"+i.panel)&&(o=!0,t[a.parent().hasClass(i.vertical)?\"togglePanel\":\"openPanel\"](c))}catch(p){}if(o&&s.preventDefault(),!o&&r&&a.is(\".\"+i.listview+\" > li > a\")&&!a.is('[rel=\"external\"]')&&!a.is('[target=\"_blank\"]')){t.__valueOrFn(t.opts.onClick.setSelected,a)&&t.setSelected(e(s.target).parent());var h=t.__valueOrFn(t.opts.onClick.preventDefault,a,\"#\"==d.slice(0,1));h&&s.preventDefault(),t.__valueOrFn(t.opts.onClick.close,a,h)&&t.close()}})},_initAddons:function(){var t;for(t in e[n].addons)e[n].addons[t].add.call(this),e[n].addons[t].add=function(){};for(t in e[n].addons)e[n].addons[t].setup.call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr(\"id\");return e&&e.length&&this.conf.clone&&(e=i.umm(e)),e},__api:function(){var t=this,n={};return e.each(this._api,function(e){var s=this;n[s]=function(){var e=t[s].apply(t,arguments);return\"undefined\"==typeof e?n:e}}),n},__valueOrFn:function(e,t,n){return\"function\"==typeof e?e.call(t[0]):\"undefined\"==typeof e&&\"undefined\"!=typeof n?n:e},__refactorClass:function(e,t,n){return e.filter(\".\"+t).removeClass(t).addClass(i[n])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not(\".\"+i.divider).not(\".\"+i.hidden)},__transitionend:function(e,t,n){var s=!1,i=function(){s||t.call(e[0]),s=!0};e.one(o.transitionend,i),e.one(o.webkitTransitionEnd,i),setTimeout(i,1.1*n)},__getUniqueId:function(){return i.mm(e[n].uniqueId++)}},e.fn[n]=function(s,i){return t(),s=e.extend(!0,{},e[n].defaults,s),i=e.extend(!0,{},e[n].configuration,i),this.each(function(){var t=e(this);if(!t.data(n)){var a=new e[n](t,s,i);a.$menu.data(n,a.__api())}})},e[n].support={touch:\"ontouchstart\"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if(\"undefined\"!=typeof Modernizr&&\"undefined\"!=typeof Modernizr.csstransitions)return Modernizr.csstransitions;var e=document.body||document.documentElement,t=e.style,n=\"transition\";if(\"string\"==typeof t[n])return!0;var s=[\"Moz\",\"webkit\",\"Webkit\",\"Khtml\",\"O\",\"ms\"];n=n.charAt(0).toUpperCase()+n.substr(1);for(var i=0;i<s.length;i++)if(\"string\"==typeof t[s[i]+n])return!0;return!1}()};var i,a,o,r}}(jQuery),/*\t\n * jQuery mmenu offCanvas addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(e){var t=\"mmenu\",n=\"offCanvas\";e[t].addons[n]={setup:function(){if(this.opts[n]){var i=this.opts[n],a=this.conf[n];o=e[t].glbl,this._api=e.merge(this._api,[\"open\",\"close\",\"setPage\"]),(\"top\"==i.position||\"bottom\"==i.position)&&(i.zposition=\"front\"),\"string\"!=typeof a.pageSelector&&(a.pageSelector=\"> \"+a.pageNodetype),o.$allMenus=(o.$allMenus||e()).add(this.$menu),this.vars.opened=!1;var r=[s.offcanvas];\"left\"!=i.position&&r.push(s.mm(i.position)),\"back\"!=i.zposition&&r.push(s.mm(i.zposition)),this.$menu.addClass(r.join(\" \")).parent().removeClass(s.wrapper),this.setPage(o.$page),this._initBlocker(),this[\"_initWindow_\"+n](),this.$menu[a.menuInjectMethod+\"To\"](a.menuWrapperSelector);var l=window.location.hash;if(l){var d=this._getOriginalMenuId();d&&d==l.slice(1)&&this.open()}}},add:function(){s=e[t]._c,i=e[t]._d,a=e[t]._e,s.add(\"offcanvas slideout blocking modal background opening blocker page\"),i.add(\"style\"),a.add(\"resize\")},clickAnchor:function(e,t){if(!this.opts[n])return!1;var s=this._getOriginalMenuId();if(s&&e.is('[href=\"#'+s+'\"]'))return this.open(),!0;if(o.$page)return s=o.$page.first().attr(\"id\"),s&&e.is('[href=\"#'+s+'\"]')?(this.close(),!0):!1}},e[t].defaults[n]={position:\"left\",zposition:\"back\",blockUI:!0,moveBackground:!0},e[t].configuration[n]={pageNodetype:\"div\",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:\"body\",menuInjectMethod:\"prepend\"},e[t].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger(\"open\")}},e[t].prototype._openSetup=function(){var t=this,r=this.opts[n];this.closeAllOthers(),o.$page.each(function(){e(this).data(i.style,e(this).attr(\"style\")||\"\")}),o.$wndw.trigger(a.resize+\"-\"+n,[!0]);var l=[s.opened];r.blockUI&&l.push(s.blocking),\"modal\"==r.blockUI&&l.push(s.modal),r.moveBackground&&l.push(s.background),\"left\"!=r.position&&l.push(s.mm(this.opts[n].position)),\"back\"!=r.zposition&&l.push(s.mm(this.opts[n].zposition)),this.opts.extensions&&l.push(this.opts.extensions),o.$html.addClass(l.join(\" \")),setTimeout(function(){t.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(s.current+\" \"+s.opened)},e[t].prototype._openFinish=function(){var e=this;this.__transitionend(o.$page.first(),function(){e.trigger(\"opened\")},this.conf.transitionDuration),o.$html.addClass(s.opening),this.trigger(\"opening\")},e[t].prototype.close=function(){if(this.vars.opened){var t=this;this.__transitionend(o.$page.first(),function(){t.$menu.removeClass(s.current).removeClass(s.opened),o.$html.removeClass(s.opened).removeClass(s.blocking).removeClass(s.modal).removeClass(s.background).removeClass(s.mm(t.opts[n].position)).removeClass(s.mm(t.opts[n].zposition)),t.opts.extensions&&o.$html.removeClass(t.opts.extensions),o.$page.each(function(){e(this).attr(\"style\",e(this).data(i.style))}),t.vars.opened=!1,t.trigger(\"closed\")},this.conf.transitionDuration),o.$html.removeClass(s.opening),this.trigger(\"close\"),this.trigger(\"closing\")}},e[t].prototype.closeAllOthers=function(){o.$allMenus.not(this.$menu).each(function(){var n=e(this).data(t);n&&n.close&&n.close()})},e[t].prototype.setPage=function(t){var i=this,a=this.conf[n];t&&t.length||(t=o.$body.find(a.pageSelector),a.noPageSelector.length&&(t=t.not(a.noPageSelector.join(\", \"))),t.length>1&&a.wrapPageIfNeeded&&(t=t.wrapAll(\"<\"+this.conf[n].pageNodetype+\" />\").parent())),t.each(function(){e(this).attr(\"id\",e(this).attr(\"id\")||i.__getUniqueId())}),t.addClass(s.page+\" \"+s.slideout),o.$page=t,this.trigger(\"setPage\",t)},e[t].prototype[\"_initWindow_\"+n]=function(){o.$wndw.off(a.keydown+\"-\"+n).on(a.keydown+\"-\"+n,function(e){return o.$html.hasClass(s.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var e=0;o.$wndw.off(a.resize+\"-\"+n).on(a.resize+\"-\"+n,function(t,n){if(1==o.$page.length&&(n||o.$html.hasClass(s.opened))){var i=o.$wndw.height();(n||i!=e)&&(e=i,o.$page.css(\"minHeight\",i))}})},e[t].prototype._initBlocker=function(){var t=this;this.opts[n].blockUI&&(o.$blck||(o.$blck=e('<div id=\"'+s.blocker+'\" class=\"'+s.slideout+'\" />')),o.$blck.appendTo(o.$body).off(a.touchstart+\"-\"+n+\" \"+a.touchmove+\"-\"+n).on(a.touchstart+\"-\"+n+\" \"+a.touchmove+\"-\"+n,function(e){e.preventDefault(),e.stopPropagation(),o.$blck.trigger(a.mousedown+\"-\"+n)}).off(a.mousedown+\"-\"+n).on(a.mousedown+\"-\"+n,function(e){e.preventDefault(),o.$html.hasClass(s.modal)||(t.closeAllOthers(),t.close())}))};var s,i,a,o}(jQuery),/*\t\n * jQuery mmenu scrollBugFix addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(e){var t=\"mmenu\",n=\"scrollBugFix\";e[t].addons[n]={setup:function(){var i=this,r=this.opts[n];this.conf[n];if(o=e[t].glbl,e[t].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&(\"boolean\"==typeof r&&(r={fix:r}),\"object\"!=typeof r&&(r={}),r=this.opts[n]=e.extend(!0,{},e[t].defaults[n],r),r.fix)){var l=this.$menu.attr(\"id\"),d=!1;this.bind(\"opening\",function(){this.$pnls.children(\".\"+s.current).scrollTop(0)}),o.$docu.on(a.touchmove,function(e){i.vars.opened&&e.preventDefault()}),o.$body.on(a.touchstart,\"#\"+l+\"> .\"+s.panels+\"> .\"+s.current,function(e){i.vars.opened&&(d||(d=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),d=!1))}).on(a.touchmove,\"#\"+l+\"> .\"+s.panels+\"> .\"+s.current,function(t){i.vars.opened&&e(this)[0].scrollHeight>e(this).innerHeight()&&t.stopPropagation()}),o.$wndw.on(a.orientationchange,function(){i.$pnls.children(\".\"+s.current).scrollTop(0).css({\"-webkit-overflow-scrolling\":\"auto\"}).css({\"-webkit-overflow-scrolling\":\"touch\"})})}},add:function(){s=e[t]._c,i=e[t]._d,a=e[t]._e},clickAnchor:function(e,t){}},e[t].defaults[n]={fix:!0};var s,i,a,o}(jQuery);"],"sourceRoot":""}